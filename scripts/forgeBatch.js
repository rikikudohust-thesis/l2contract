const {ethers} = require('hardhat')


async function main() {
    const zkPayment = await ethers.getContractAt("ZkPayment", "0xC1B8E547247004045F63dD5B79570652A76B4061")
  const pi_a = [
    "12348822170073404900962975994803962409905068199366676545089582255260247494298",
    "15367578965407677448608287489045140974092974411787292290638414407005006189496"
  ];
  const pi_b = [
    [
      "733594527083473211607646874485085790783189718697738694013682865202554015137",
      "3361043925177308312665076859405591839004038226494581631685618912009071687735"
    ],
    [
      "16463757008899535043033572954784428884184859031536124718212757229574964667227",
      "9782028080031384254195071312020831448467910385211005464749295186130860986169"
    ]
  ];
  const pi_c = [
    "2419550992221533809552858466120379863138086166803359172883577655206731068529",
    "8861842188778895037920354119298218799740751711610743474896927665165482051424",
  ];
  var forgeTx = await zkPayment.forgeBatch_test(
    32,
    "21257351984329813062941704806689384154425147093515467425534323453753609333214",
    "0",
    "0x00",
    "0x00",
    "0x00",
    0,
    true,
    pi_a,
    pi_b,
    pi_c
  ,{gasLimit: 10000000});
  await forgeTx.wait();
  const test = await zkPayment.test();
  console.log(test);
  console.log(test.length);
}

main().then